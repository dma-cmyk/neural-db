const adjectives = [
  'あおいろ', 'あかいろ', 'しろい', 'きんいろ', 'ぎんいろ', 'しずかな', 'ねむれる', 'はしる', 'おどる', 'かがやく',
  'わらう', 'はやい', 'つよい', 'まもる', 'とおくの', 'ちかい', 'ふるい', 'あたらしい', 'まじめな', 'じゆうな',
  'やさしい', 'するどい', 'まるい', 'ながい', 'ひろい', 'ふかい', 'たかい', 'ひくい', 'あかるい', 'くらい',
  'すずしい', 'あたたかい', 'つめたい', 'あつい', 'おおきな', 'ちいさな', 'きれいな', 'ふしぎな', 'なぞの', 'ゆたかな',
  'たのしい', 'うれしい', 'かなしい', 'おぼろげな', 'あざやかな', 'おだやかな', 'はげしい', 'けだかい', 'はかない', 'とわの'
];

const animals = [
  'ライオン', 'きつね', 'うさぎ', 'ねこ', 'いぬ', 'ふくろう', 'わかば', 'くじら', 'いるか', 'ぺんぎん',
  'とら', 'くま', 'しか', 'ぞう', 'きりん', 'パンダ', 'たぬき', 'はくちょう', 'わし', 'はやぶさ',
  'はやま', 'うみねこ', 'かもめ', 'めだか', 'きんぎょ', 'りゅう', 'ほうおう', 'かめ', 'さる', 'うま',
  'ひつじ', 'やぎ', 'りす', 'ハムスター', 'かわうそ', 'あざらし', 'せいたか', 'つる', 'とき', 'すずめ',
  'つばめ', 'ひばり', 'うぐいす', 'ほたる', 'てんとう', 'あげは', 'とんぼ', 'せみ', 'くわがた', 'かぶと'
];

const actions = [
  'の', 'が', 'を語る', 'を見守る', 'と歩む', 'を守る者', 'を愛する', 'を待つ', 'を運ぶ', 'を照らす',
  'に住む', 'に咲く', 'に降る', 'に舞う', 'を駆ける', 'を泳ぐ', 'を飛ぶ', 'を唄う', 'を描く', 'を創る',
  'の守護者', 'の探求者', 'の旅人', 'の奏者', 'の使者', 'の案内人', 'の影', 'の光', 'の風', 'の波',
  'の星', 'の夢', 'の絆', 'の記憶', 'の知恵', 'の勇気', 'の希望', 'の正義', 'の真実', 'の調べ',
  'の化身', 'の精霊', 'の奇跡', 'の贈り物', 'の導き', 'の祈り', 'の翼', 'の盾', 'の剣', 'の鍵'
];

const qualifiers = [
  'シリウス', 'ベガ', 'カノープス', 'アルタイル', 'カペラ', 'リゲル', 'プロキオン', 'アークトゥルス', 'スピカ', 'アンタレス',
  'ルビー', 'サファイア', 'エメラルド', 'ダイヤ', 'アメジスト', 'パール', 'トルマリン', 'トパーズ', 'ガーネット', 'アクアマリン',
  'オリオン', 'スバル', 'カシオペア', 'ホクトシチセイ', 'テンノガワ', 'ツキ', 'タイヨウ', 'スイセイ', 'カセイ', 'モクセイ',
  'キンセイ', 'ドクセイ', 'メイオウセイ', 'カイオウセイ', 'テンノウセイ', 'チキュウ', 'アステロイド', 'ネビュラ', 'ギャラクシー', 'コズモス',
  'サンゴ', 'ヒスイ', 'コハク', 'メノウ', 'スイショウ', 'オパール', 'ラピスラズリ', 'スピネル', 'ムーンストーン', 'ペリドット'
];

/**
 * 4つの要素を組み合わせてランダムな名前を生成します。
 */
export const generateFriendlyName = (): string => {
  const adj = adjectives[Math.floor(Math.random() * adjectives.length)];
  const animal = animals[Math.floor(Math.random() * animals.length)];
  const action = actions[Math.floor(Math.random() * actions.length)];
  const qualifier = qualifiers[Math.floor(Math.random() * qualifiers.length)];

  return `${adj}${animal}${action}${qualifier}`;
};

/**
 * 既存の名前と被らないユニークな名前を生成します。
 */
export const generateUniqueName = (existingNames: string[]): string => {
  const namesSet = new Set(existingNames);
  let name = generateFriendlyName();
  let attempts = 0;

  // 最大100回試行（理論上被る確率は極めて低いが安全のため）
  while (namesSet.has(name) && attempts < 100) {
    name = generateFriendlyName();
    attempts++;
  }

  // 万が一100回被った場合は、タイムスタンプを付与して強制的にユニークにする
  if (namesSet.has(name)) {
    name += `_${Date.now().toString(36)}`;
  }

  return name;
};
